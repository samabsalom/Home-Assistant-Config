homeassistant:
  name: !secret name
  # Location required to calculate the time the sun rises and sets
  latitude: !secret lat
  longitude: !secret long
  # Impacts weather/sunrise data (altitude above sea level in meters)
  elevation: 7
  # metric for Metric, imperial for Imperial
  unit_system: metric
  # Pick yours from here: http://en.wikipedia.org/wiki/List_of_tz_database_time_zones
  time_zone: Europe/London

# Sho links to resources in log and frontend
#introduction:
  customize: !include customize.yaml
  packages:
    pack_1: !include_dir_merge_named boilerpack

frontend:

http:
  api_password: !secret http_apipassword
  ssl_certificate: !secret ssl_cert
  ssl_key: !secret sslkey
  base_url: !secret baseurl

updater:
conversation:
history:
logbook:

sun:

mqtt:
  broker: !secret mqttbroker
  port: 1883
  client_id: home-assistant-1
  username: !secret mqttuser
  password: !secret mqttpass

alarm_control_panel:
  - platform: manual
    name: Avondale Alarm
    code: !secret alarmcode

google:
  client_id: !secret googleid
  client_secret: !secret googlesecret

scene: !include scene.yaml

script: !include_dir_merge_list script

alexa: !include alexa.yaml

shell_command:
  hibernatelinux: "ssh ubuntu sudo pm-hibernate"
  startmirror: "pm2 start /home/pi/mm.sh"

tts:
  - platform: google
  - platform: voicerss
    api_key: !secret voicerss
    language: en-gb
  - platform: picotts
    language: en-GB
  - platform: yandextts
    api_key: !secret yandextts
    language: 'en-EN'

digital_ocean:
  access_token: !secret digocean

s

proximity:
  home:
    ignored_zones:
      - Parents
      - Cornwall
    devices:
      - device_tracker.pi_nexus
    tolerance: 50
    unit_of_measurement: mi

switch: !include switch.yaml

# input_slider:
#   slider1:
#     name: temperature
#     initial: 22
#     min: 10
#     max: 30
#     step: 1

octoprint:
  host: "10.10.10.195"
  api_key: "02CC0E4BDA80449F9BDD81E437F64A44"

light:
  - platform: hue
    host: !secret huebridgeip
    allow_unreachable: true
  # - platform: mqtt
  #   name: heating
  #   command_topic: 'avondale/temp/poo/switch'
  #   state_topic: 'avondale/temp/poo/status'
  #   brightness_command_topic: 'avondale/temp/set'
  #   brightness_state_topic: 'avondale/temp/set'
  #   optimistic: false
  #   brightness_scale: 102

binary_sensor:
  - platform: octoprint
    monitored_conditions:
      - Printing
      - Printing Error
    name: Octoprint
  - platform: mqtt
    state_topic: 'alarm/hall/status'
    name: 'Hall Motion'
    sensor_class: motion


notify:
  - name: kodi
    platform: kodi
    host: !secret kodihost
    username: !secret kodiuser
    password: !secret kodipass
    port: 80
  - name: pushbullet
    platform: pushbullet
    api_key: !secret pushbullet
  # - name: samfile
  #   platform: file
  #   filename: sam.txt
  # - name: rosiefile
  #   platform: file
  #   filename: rosie.txt
  # - name: hazfile
  #   platform: file
  #   filename: haz.txt
  # - name: lizziefile
  #   platform: file
  #   filename: lizzie.txt
  # - name: andyfile
  #   platform: file
  #   filename: andy.txt
  # - name: tempfile
  #   platform: file
  #   filename: temp.txt
  # - name: aimfile
  #   platform: file
  #   filename: aim.txt

# /var/www/html/MagicMirror/modules/whoin-module/
sensor: !include sensor.yaml

camera:
  platform: mjpeg
  mjpeg_url: !secret printercam
  name: printcam

media_player:
  - platform: kodi
    host: !secret kodihost
    port: 80
    name: Kodi
    username: !secret kodiuser
    password: !secret kodipass
    turn_off_action: reboot
  - platform: cast
  - platform: kodi
    host: !secret kodibedhost
    port: 80
    name: bedroom
    username: !secret kodibeduser
    password: !secret kodibedpass
    turn_off_action: reboot

emulated_hue:
  host_ip: !secret hueip
  listen_port: 8300
  exposed_domains:
    - media_player
    - switch
    - light

ifttt:
  key: !secret ifkey

device_tracker:
  - platform: unifi
    host: !secret unifihost
    port: 8443
    username: !secret unifiuser
    password: !secret unifipass
    site_id: !secret unifiid
    track_new_devices: False
    consider_home: 420
  - platform: owntracks
    max_gps_accuracy: 300
    waypoints: True


# climate:
#   - platform: generic_thermostat
#     name: Home
#     heater: switch.boiler
#     target_sensor: sensor.lounge_temperature
#     min_temp: 7
#     max_temp: 32
#     target_temp: 19

group: !include group.yaml

automation: !include_dir_merge_list automation

zone:
  name: Uni
  latitude: !secret 1latitude
  longitude: !secret 1longitude
  radius: 1000
  icon: mdi:school

zone 2:
  name: Hospital
  latitude: !secret 2latitude
  longitude: !secret 2longitude
  icon: mdi:hospital
  radius: 300

zone 3:
  name: Home
  latitude: !secret 3latitude
  longitude: !secret 3longitude
  radius: 200
  icon: mdi:home

zone 4:
  name: Parents
  latitude: !secret 4latitude
  longitude: !secret 4longitude
  radius: 400
  icon: mdi:home

zone 5:
  name: Cornwall
  latitude: !secret 5latitude
  longitude: !secret 5longitude
  radius: 1000
  icon: mdi:home-variant

zone 6:
  name: Andys
  latitude: !secret 6latitude
  longitude: !secret 6longitude
  radius: 200
  icon: mdi:heart

zone 7:
  name: Danny
  latitude: !secret 7latitude
  longitude: !secret 7longitude
  radius: 200
  icon: mdi:heart

zone 8:
  name: Barrow
  latitude: !secret 8latitude
  longitude: !secret 8longitude
  radius: 1000
  icon: mdi:hospital

  # notes
  # threshhold sensor to the outside temp
  # set an automation with the threshold as a condition
  # below the threshold tunr heating onn sooner and higher
