  boilerwhenhome:
    sequence:
      - service_template: climate.set_temperature
        data_template:
          temperature: " {{ states.input_select.tempfornormal.state | float + 2 }} "
      - service: notify.pushbullet
        data:
          message: "This was done automatically as someone has returned home"
          title: "Boiler set to 2 degrees higher than normal"
      - service: notify.kodi
        data_template:
          message: "This was done automatically for 10 minutes as someone has returned home"
          title: "Boiler set to 21 it is currently {{ states.sensor.lounge_temperature.state }}"
      - delay:
          minutes: 10
      - service_template: climate.set_temperature
        data_template:
          temperature: " {{ states.input_select.tempfornormal.state | int }} "
      - service: notify.kodi
        data_template:
          message: "This was done automatically 10 minutes after someone returned"
          title: "Boiler set to the normal temperature"

  evening:
    sequence:
      - service: homeassistant.turn_on
        entity_id: scene.evening

  return_home:
    sequence:
      - service: homeassistant.turn_on
        entity_id: scene.evening
      - service: homeassistant.turn_on
        entity_id: script.fireplace


  fireplace:
    sequence:
      - service: homeassistant.turn_on
        entity_id: switch.tv
      - service: media_player.turn_on
        entity_id: media_player.kodi
      - service: media_player.play_media
        entity_id: media_player.kodi
        data:
          media_content_type: video
          media_content_id: "plugin://plugin.video.youtube/?path=/root/video&action=play_video&videoid=L_LUpnjgPso"

          # NiqM3lVirkw  bit darker
# mountain norway EqqpcFj8G-s

  bedroomfire:
    sequence:
      - service: media_player.play_media
        entity_id: media_player.bedroom
        data:
          media_content_type: video
          media_content_id: http://hybrid.servemp3.com/storage/fireplace.mp4



  warmhouseat6:
    sequence:
      - service_template: climate.set_temperature
        data_template:
          temperature: " {{ states.input_select.tempfor6.state | int }} "
      - service_template: notify.kodi
        data_template:
          message: "This was done automatically"
          title: "I set the boiler to {{ states.input_select.tempfor6.state | int }}C"
      - delay: '{{ states.input_select.preheatdelay.state }}:00'
      - service_template: climate.set_temperature
        data_template:
          temperature: " {{ states.input_select.tempfornormal.state | int }} "
      - service_template: notify.kodi
        data_template:
          message: "This was done automatically"
          title: "I set the boiler to {{ states.input_select.tempfornormal.state | int }}C"
      - service_template: notify.pushbullet
        data_template:
          message: "This was done automatically"
          title: "I set the boiler to {{ states.input_select.tempfornormal.state | int }}C"

  boost_the_heating:
    sequence:
      - service_template: climate.set_temperature
        data_template:
          temperature: " {{ states.sensor.lounge_temperature.state | float + 3 }} "
      - service_template: notify.kodi
        data_template:
          message: "I set the boiler to 3 degrees higher for the specified time"
          title: "Heating boost!"
      - service_template: notify.pushbullet
        data_template:
          message: "I set the boiler to 3 degrees higher for the specified time"
          title: "Heating boost!"
      - delay: '{{ states.input_select.boostdelay.state }}:00'
      - service_template: climate.set_temperature
        data_template:
          temperature: " {{ states.input_select.tempfornormal.state | int }} "
      - service_template: notify.kodi
        data_template:
          message: "This was done automatically after the heating boost"
          title: "I set the boiler to {{ states.input_select.tempfornormal.state | int }}C "
      - service_template: notify.pushbullet
        data_template:
          message: "This was done automatically after the heating boost"
          title: "I set the boiler to {{ states.input_select.tempfornormal.state | int }}C "

  wake_up:
    sequence:
      - service_template: tts.picotts_say
        data_template:
          entity_id: media_player.bedroom
          message: >
            {% if now().strftime("%H")|int < 8 and now().strftime("%w")|int > 0 and now().strftime("%w")|int < 6 %}
            jesus fucking christ its early. anyway.
            {% endif %}

            {% if now().strftime("%H")|int < 12 %}
            Good morning Sam.
            {% elif now().strftime("%H")|int < 18 %}
            Good afternoon Sam.
            {% else %}
            Good evening Sam.
            {% endif %}
            It's currently {{states.sensor.lounge_temperature.state | int }} inside and {{states.sensor.owm_temperature.state|round}} degrees outside in Lancaster but it feels like {{states.sensor.pws_feelslike_c.state|round}}. Today will be {{states.sensor.pws_weather.state}}, with {{states.sensor.pws_precip_today_metric.state}} millimeters of rain.

            {% if now().strftime("%w")|int == 1 %}
            and happy monday.
            {% endif %}


            {% if states('sensor.pws_precip_today_metric') | float > 3 %}
            I would recommend a rain coat today.
            {% endif %}

            {% if states('sensor.battery_nexus') | float > 95 %}
            it also looks like your phone charged properly.
            {% endif %}

            {% if is_state('device_tracker.hazbag', 'not_home') and
                   is_state('device_tracker.lizzie', 'home') and
                   is_state('device_tracker.rosie', 'home') %}
              Harriet has left.
            {% endif %}

            {% if is_state('device_tracker.hazbag', 'home') and
                   is_state('device_tracker.lizzie', 'not_home') and
                   is_state('device_tracker.rosie', 'home') %}
              Lizzie has left.
            {% endif %}

            {% if is_state('device_tracker.hazbag', 'home') and
                   is_state('device_tracker.lizzie', 'home') and
                   is_state('device_tracker.rosie', 'not_home') %}
              Rosie has left.
            {% endif %}

            {% if is_state('device_tracker.hazbag', 'not_home') and
                   is_state('device_tracker.lizzie', 'not_home') and
                   is_state('device_tracker.rosie', 'not_home') %}
              You are in the house alone. Time to shit with the door open.
            {% endif %}

            {% if is_state('device_tracker.hazbag', 'not_home') and
                   is_state('device_tracker.lizzie', 'not_home') and
                   is_state('device_tracker.rosie', 'home') %}
              Harriet and lizzie have left.
            {% endif %}

            {% if is_state('device_tracker.hazbag', 'not_home') and
                   is_state('device_tracker.lizzie', 'home') and
                   is_state('device_tracker.rosie', 'not_home') %}
              Harriet and Rosie have left.
            {% endif %}

            {% if is_state('device_tracker.hazbag', 'not_home') and
                   is_state('device_tracker.lizzie', 'home') and
                   is_state('device_tracker.rosie', 'not_home') %}
              Lizzie and Rosie have left.
            {% endif %}

            {% if now().strftime("%w")|int == 0 or now().strftime("%w")|int == 6 %}
              Enjoy your weekend.
            {% endif %}

            Prepare your eyes, i will turn the light on dim now and turn it up brighter in a couple of minutes.

      - delay: 00:00:25
      - service: homeassistant.turn_on
        data:
          entity_id: light.bedroom_light
          brightness: 10
      - delay:
          minutes: 3
      - service: tts.picotts_say
        entity_id: media_player.bedroom
        data:
          message: "as promised up go the lights"
      - service: homeassistant.turn_on
        data:
          entity_id: light.bedroom_light
          brightness: 200

  ttstest:
    alias: testing voice
    sequence:
      - service: tts.google_say
        entity_id: media_player.bedroom
        data:
          message: the quick brown fox jumped over the lazy dog
      - service: tts.voicerss_say
        entity_id: media_player.bedroom
        data:
          message: the quick brown fox jumped over the lazy dog
      - service: tts.picotts_say
        entity_id: media_player.bedroom
        data:
          message: the quick brown fox jumped over the lazy dog
      - service: tts.yandextts_say
        entity_id: media_player.bedroom
        data:
          message: the quick brown fox jumped over the lazy dog

  loungeon:
    alias: Lounge on
    sequence:
      - service: homeassistant.turn_on
        data:
          entity_id: scene.loungeon
      - service: mqtt.publish
        data:
          payload: waiting
          topic: loungelight/allonoff/switch
          qos: 0
          retain: true
  loungeoff:
    alias: Lounge off
    sequence:
      - service: homeassistant.turn_on
        data:
          entity_id: scene.loungeoff
      - service: mqtt.publish
        data:
          payload: waiting
          topic: loungelight/allonoff/switch
          qos: 0
          retain: true

  halldim:
    alias: Hall on dim
    sequence:
      - service: homeassistant.turn_on
        data:
          entity_id: light.hall_light
          brightness: 75
      # - delay:
      #     minutes: 5
      # - service: homeassistant.turn_off
      #   data:
      #     entity_id: light.hall_light
  hallbright:
    alias: Hall on bright
    sequence:
      - service: homeassistant.turn_on
        data:
          entity_id: light.hall_light
          brightness: 255
  mirroron:
    alias: Turn on the mirror UI
    sequence:
      - service: shell_command.startmirror
